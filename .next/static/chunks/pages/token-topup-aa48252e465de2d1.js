(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[208],{6011:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/token-topup",function(){return n(6566)}])},202:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var s=n(5893),r=n(3606),o=n(9417),i=n(7814),a=n(5675),l=n.n(a),c=n(1664),d=n.n(c),x=n(9200),u=n(2630),h=n(7294),f=n(8416);function p(e){let{children:t,availableTokens:n,posts:a,postId:c,postCreated:p}=e,{user:m}=(0,r.aF)(),{setPostsFromSSR:g,posts:j,getPosts:w,noMorePosts:N}=(0,h.useContext)(f.Z);return(0,h.useEffect)(()=>{if(g(a),c){let e=a.find(e=>e._id===c);e||w({getNewerPosts:!0,lastPostDate:p})}},[a,g,c,p,w]),(0,s.jsxs)("div",{className:"grid grid-cols-[300px_1fr] h-screen max-h-screen",children:[(0,s.jsxs)("div",{className:"flex flex-col text-white overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-slate-800 px-2 ",children:[(0,s.jsx)(x.Z,{}),(0,s.jsx)(u.Z,{variant:"contained",fullWidth:!0,sx:{marginTop:"30px",backgroundColor:"green !important","&:hover":{backgroundColor:"darkgreen !important",textDecoration:"none"},font:"inherit"},children:(0,s.jsx)(d(),{style:{textDecoration:"none"},href:"/post/new",children:"New Post"})}),(0,s.jsxs)(d(),{href:"/token-topup",className:"flex justify-center mt-2 text-center ",children:[(0,s.jsx)(i.G,{icon:o.owJ,className:"text-yellow-500 w-[15px]"}),(0,s.jsxs)("span",{className:"pl-1",children:[n," token available"]})]})]}),(0,s.jsxs)("div",{className:"px-4 flex-1 overflow-auto scrollbar-hide bg-gradient-to-b from-slate-800 to-cyan-800",children:[null==j?void 0:j.map((e,t)=>{let n=e.title.slice(0,50);return(0,s.jsx)(d(),{href:"/post/".concat(e._id),className:"py-1  block text-ellipsis overflow-hidden whitespace-nowrap my-1 px-2 bg-white/10 cursor-pointer border border-white/0 rounded-sm ".concat(c===e._id?"bg-white/30 border-white":""),children:n},t)}),!N&&j.length>5&&(0,s.jsx)("div",{onClick:()=>{w({lastPostDate:j[j.length-1].created})},className:"hover:underline text-sm text-slate-400 text-center cursor-pointer mt-4",children:"Load more posts"})]}),(0,s.jsx)("div",{className:"bg-cyan-800 flex items-center gap-2 border-t border-t-black/50 h-20 px-2",children:m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"min-w-[50px]",children:(0,s.jsx)(l(),{src:m.picture,alt:m.name,height:50,width:50,priority:!0,className:"rounded-full"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-bold",children:m.email}),(0,s.jsx)(d(),{href:"/api/auth/logout",className:"text-sm",children:"logout"})]})]}):(0,s.jsx)(d(),{href:"/api/auth/login",children:"Login"})})]}),t]})}},9200:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(5893),r=n(9417),o=n(7814);function i(){return(0,s.jsxs)("div",{className:"text-3xl text-center py-4 font-heading",children:["UtopAI",(0,s.jsx)(o.G,{icon:r.qxT,className:"text-2xl text-slate-400"})]})}},6566:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return l},default:function(){return c}});var s=n(5893),r=n(202),o=n(2630),i=n(7814),a=n(9417),l=!0;function c(){let e=async()=>{let e=await fetch("/api/addToken",{method:"POST",headers:{"Content-Type":"application/json"}}),t=await e.json();window.location.href=t.session.url};return(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center gap-2",children:[(0,s.jsx)(i.G,{icon:a.owJ,className:"text-yellow-500 ",style:{fontSize:"50px"}}),(0,s.jsx)(o.Z,{onClick:e,variant:"contained",fullWidth:!0,sx:{backgroundColor:"green !important","&:hover":{backgroundColor:"darkgreen !important"}},children:"Add tokens"})]})}c.getLayout=function(e,t){return(0,s.jsx)(r.Z,{...t,children:e})}}},function(e){e.O(0,[976,927,630,774,888,179],function(){return e(e.s=6011)}),_N_E=e.O()}]);